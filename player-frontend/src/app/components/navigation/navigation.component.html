<ion-header class="relative text-gray-200 bg-gray-900">
  <nav class="relative flex items-center w-screen h-12 px-4 rounded-b-lg">
    <div class="w-12 pl-3 md:hidden">
      <!-- hamburger menu icon -->
      <svg (click)="openSideMenu()" class="w-6 h-6 fill-current" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"></path></svg>
    </div>
    <p class="flex-1 mr-2 text-center md:hidden line-clamp-1">{{ pageTitle }}</p>
    <div (clickOutside)="closeSideMenu()" [attachOutsideOnClick]="attachOutsideOnClick" [clickOutsideEnabled]="true" [delayClickOutsideInit]="true" [class.hidden]="sideMenuShown === false" [class.flex]="sideMenuShown === true" class="absolute top-0 left-0 flex-col items-start justify-center hidden w-2/3 h-screen space-y-4 bg-gray-900 md:items-center md:bg-transparent md:justify-start md:relative md:h-full md:flex-row md:space-x-6 md:flex-1 md:flex md:ml-4 md:space-y-0">
      <a class="flex items-center ml-4 md:ml-0" (click)="closeSideMenu()" routerLink="/songs" routerLinkActive="text-bold text-white border-b-2 pb-1 lg:-mb-1">
        <svg class="w-6 h-6 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"/></svg>
        <span class="ml-2">Songs</span>
      </a>
      <a class="flex items-center ml-4 md:ml-0" (click)="closeSideMenu()" routerLink="/albums" routerLinkActive="text-bold text-white border-b-2 pb-1 lg:-mb-1">
        <svg class="w-6 h-6 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M224 224a32 32 0 1 0 32 32 32 32 0 0 0-32-32zM416 32H32A32 32 0 0 0 0 64v384a32 32 0 0 0 32 32h384a32 32 0 0 0 32-32V64a32 32 0 0 0-32-32zM224 416a160 160 0 1 1 160-160 160 160 0 0 1-160 160z"/></svg>
        <span class="ml-2">Albums</span>
      </a>
      <a class="flex items-center ml-4 md:ml-0" (click)="closeSideMenu()" routerLink="/playlists" routerLinkActive="text-bold text-white border-b-2 pb-1 lg:-mb-1">
        <svg class="w-6 h-6 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M16 256h256a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm0-128h256a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16H16A16 16 0 0 0 0 80v32a16 16 0 0 0 16 16zm128 192H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM470.94 1.33l-96.53 28.51A32 32 0 0 0 352 60.34V360a148.76 148.76 0 0 0-48-8c-61.86 0-112 35.82-112 80s50.14 80 112 80 112-35.82 112-80V148.15l73-21.39a32 32 0 0 0 23-30.71V32a32 32 0 0 0-41.06-30.67z"/></svg>
        <span class="ml-2">Playlists</span>
      </a>
    </div>
    <div class="pr-2"  (click)="openSearchBar()">
      <!-- search icon -->
      <svg class="w-6 h-6 fill-current" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
    </div>
  </nav>
  <div [class.hidden]="searchShown === false" [class.flex]="searchShown === true" class="absolute top-0 items-center w-screen h-12">
    <div (click)="closeSearchBar()" class="absolute left-0 flex items-center pl-2 pr-4">
      <!-- close/times icon -->
      <svg class="w-6 h-6 fill-current" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg>
    </div>
    <div class="flex-1">
      <label for="search-term" class="sr-only">Search term</label>
      <input (keyup)="handleSearchNavigation()" id="search-term" type="text" [(ngModel)]="searchQuery" class="w-full h-12 pl-12 pr-10 text-gray-900 placeholder-gray-500" placeholder="Enter your search term...">
    </div>
    <div (click)="doSearch()" class="absolute right-0 flex items-center px-2">
      <!-- search icon -->
      <svg class="w-6 h-6 fill-current" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
    </div>
  </div>
</ion-header>
